\chapter{Introduction}

\section{Motivation}
\emph{Cryptocurrencies} are digital assets that utilize cryptography in order to allow value transfer, without the need of a central party or trusted authority. The technology originally appeared in 2008 in a paper by Satoshi Nakamoto~\cite{bitcoin} as Bitcoin, along with a reference implementation in C++. It didn't take long until a community of enthusiasts and cryptographers embraced the technology and started studying it and using it extensively. New cryptocurrencies based on Bitcoin's ideas and codebase started popping up, among them most notably Litecoin and Dogecoin.

This work clearly was a huge inspiration. In 2014 Ethereum~\cite{ethereum,vbuterin} appeared, which aimed to do much more than just value transfers: it built on Nakamoto's ideas in order to build a world computer. Programs called \emph{smart contracts} could be stored and run in a decentralized manner. Such smart contracts gave us the ability to write immutable contracts, where ``code is law.''

Few years later and the landscape is completely changed. More and more cryptocurrencies are created every single day. Public interest and prices have skyrocketed. There is lots of optimism about the future decentralized technologies such as Bitcoin can bring, mainly a democratization of money, usually called ``banking the unbanked.''

However, being more widespread and popular surfaced some problems the most important of which is scalability. Technically, each cryptocurrency has a \emph{blockchain}, which is literally a chain of \emph{blocks} linked together like a linked list. These blocks contain \emph{transactions}. Every transaction needs to be recorded and stored in a block, and everyone has to know about it. As a result, the Bitcoin blockchain is 185GB at the time of writing. The Ethereum blockchain comes up to 667GB. Typically, for someone to participate on the network, and do actions like send transactions they have to download the whole blockchain. However at such rates it is very time-consuming and resource-intensive or even impossible for someone to download a chain. So-called \emph{lite nodes} that don't need to download the whole chain do exist, but at best they need information linear in the size of the chain, so they're a constant-factor improvement.

New cryptocurrencies with interesting features pop up all the time. There's long been an interest in implementing sidechains~\cite{sidechains}, as a way to interoperate between two blockchains. One should be able to trustlessly transfer his Bitcoin to another chain and use it there (a \emph{one-way peg}), and transfer it back if he so desires (a \emph{two-way peg}). One-way pegs have been implemented by having a smart contract on a cryptocurrency like Ethereum which knows the full state of the other blockchain, much like a full node. However storage comes at a huge cost, which makes the hundreds of GBs of most blockchains infeasible to maintain.

There's also the issue of user experience: even using a lite node at this point is too slow. Lite nodes use a protocol called \emph{SPV} which we'll look into detail shortly. SPV works by relaying only the block headers (which are of constant size) to the lite nodes and specifically any transactions they might suspect will interest them. Even so, the Dogecoin blockchain headers come up to 188MB. On an Android phone using the Dogecoin app, it takes about an hour before the app can be used, and this is assuming good network conditions. Trying to use such clients on a data plan could potentially make them completely unusable.

\emph{NIPoPoWs}~\cite{nipopows} are a recent blockchain primitive allowing proofs on the blockchain of only logarithmic size instead of linear. These succinct proofs turn out to be key in solving problems like the above. One-way pegged contracts don't need to know about the whole blockchain, and lite nodes don't need to know all block headers to have the same security assurances.

\section{Related Work}
The first solution for short proofs came directly from the original Bitcoin paper \cite{bitcoin} in the form of SPV. The main idea of SPV, Merkle Tree Proofs, which we will be studying in depth shortly, is very useful for transaction inclusion proofs with NIPoPoWs as well.

Although NIPoPoWs are a very recent development, implementations have already been developed. Most notably, a verifier smart contract has been developed by Christoglou \cite{christoglou}, which validates and compares NIPoPoW proofs to find the best, and can be used as a basis for cross-chain transactions. This implementation however assumes proofs on a blockchain which contains the interlink on its headers, which is something untrue for most popular cryptocurrencies.

There are however cryptocurrencies of this form built from the ground up with NIPoPoWs in mind. Most notably, Ergo \cite{ergo}, Nimiq \cite{nimiq} and WebDollar \cite{webdollar}.

\section{Structure}

% why bitcoin cash TODO
% why python TODO
