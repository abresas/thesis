\begin{algorithm}[H]
    \caption{\label{alg.nipopow-velvet-infix-go-back}The \textsf{goBack} function which produces the necessary blocks to connect a block $right$ to a preceeding block $left$.}
    \begin{algorithmic}[1]
        \Function{\sf goBack}{$left$, $right$, \textsf{height}, \textsf{realLink}, \textsf{blockById}}
            \State{$aux \gets \emptyset$}
            \While{$right \neq left$}
                \For{$\mu = level(left)$ down to $0$}
                    \If{$\textsf{realLink}[\mathsf{id}(right)][\mu] = right\text{.interlink}[\mu]$}
                        \Let{B'}{\textsf{blockById}[right\text{.interlink}[\mu]]}
                        \If{$\textsf{height}[B'] \ge \textsf{height}[left]$}
                            \Let{aux}{aux \cup \{B'\}}
                            \Let{right}{B'}
                            \State\textbf{break}
                        \EndIf
                    \EndIf
                \EndFor
            \EndWhile
            \State\Return{$aux$}
        \EndFunction
    \vskip8pt
    \end{algorithmic}
\end{algorithm}
